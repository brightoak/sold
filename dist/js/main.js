"use strict";var nav=document.querySelectorAll(".nav-holder");if(nav.length>0)for(var i=0;i<nav.length;i++)for(var drops=nav[i].querySelectorAll(".drop"),j=0;j<drops.length;j++)drops[j].parentNode.classList.add("js-dropdown");var quotesSlider=document.getElementById("quotes-slider");quotesSlider&&tns({container:quotesSlider,items:1,mode:"gallery",speed:700,axis:"horizontal",lazyload:!0});var sections=document.querySelectorAll(".js-flyin");function inView(){window.innerWidth>768&&sections.forEach(function(e){inViewport(e,{offset:-300})&&e.classList.add("js-inview")})}sections.length>0&&(inView(),window.onscroll=function(){inView()});var navHolder=document.querySelector(".nav-holder"),opener=navHolder.querySelector(".opener");opener&&(opener.onclick=function(){navHolder.classList.toggle("opened")},window.onresize=function(){navHolder.classList.contains("opened")&&navHolder.classList.remove("opened")});var contactForm=document.querySelector(".contact-form");function contactFormValidation(){var e=!0;contactForm.querySelectorAll(".required").forEach(function(t){if(t.classList.contains("js-error")&&(t.classList.remove("js-error"),t.parentNode.removeChild(t.parentNode.querySelector(".js-error-text"))),t.value.length<3)validationError(t,t.parentNode.querySelector("label").textContent+" is required!"),e=!1;else if("email"===t.getAttribute("type")){if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.value.toLowerCase()))validationError(t,t.parentNode.querySelector("label").textContent+" is not valid!"),e=!1}}),e&&contactForm.classList.add("js-validform")}function validationError(e,t){e.classList.add("js-error");var n=document.createElement("p");n.appendChild(document.createTextNode(t)),n.classList.add("js-error-text"),e.parentNode.appendChild(n)}contactForm&&(contactForm.querySelector(".btn").onclick=function(){contactFormValidation()}),new SmoothScroll('a.scrollto[href*="#"]');var header=document.getElementById("header");if(header){var headroom=new Headroom(header);headroom.init();var body=document.querySelector("body"),bodyHeight=body.clientHeight,windowHeight=window.outerHeight,progressbar=header.querySelector(".js-progressbar");document.onscroll=function(e){var t=window.scrollY;progressbar.style.width=(t+windowHeight)/bodyHeight*100+"%"}}var howitworksPopup=document.querySelector(".howitworks-popup");if(howitworksPopup){var removePopup=function(){howitworksPopup.classList.contains("js-visible")&&(howitworksPopup.classList.remove("js-visible"),_body.removeChild(fader))},popupOpener=document.querySelector(".popup-opener"),fader=document.createElement("span"),_body=document.querySelector("body"),close=howitworksPopup.querySelector(".close"),popupLeft=window.outerWidth/2-howitworksPopup.clientWidth/2+"px",popupTop=window.outerHeight/2-howitworksPopup.clientHeight/2+"px";howitworksPopup.style.left=popupLeft,howitworksPopup.style.top=popupTop,fader.setAttribute("id","fader"),popupOpener.onclick=function(e){e.preventDefault(),_body.appendChild(fader),howitworksPopup.classList.add("js-visible"),popupLeft=window.outerWidth/2-howitworksPopup.clientWidth/2+"px",popupTop=window.outerHeight/2-howitworksPopup.clientHeight/2+"px",howitworksPopup.style.left=popupLeft,howitworksPopup.style.top=popupTop},howitworksPopup.classList.contains("js-visible"),fader.onclick=function(){removePopup()},close.onclick=function(){removePopup()},window.onresize=function(){removePopup()}}customSelect(".custom-select");var quiz=document.querySelector(".quiz-holder");if(quiz){var updateSliderContent=function(e){var t=(activeStep=quiz.querySelector(".quiz-step.js-active")).querySelector(".slider-content"),n=t.querySelectorAll(".holder");n.length>0&&(n.forEach(function(t,n){t.classList.contains("js-active")&&t.classList.remove("js-active"),n+1>e&&t.setAttribute("data-direction","right"),n+1<e&&t.setAttribute("data-direction","left")}),t.querySelector('.holder[data-attr="'+e+'"').classList.add("js-active"))},goNext=function(e){e.preventDefault(),(activeStep=quiz.querySelector(".quiz-step.js-active")).classList.remove("js-active"),activeStep.classList.add("js-completed"),(nextEl=activeStep.nextElementSibling).classList.add("js-active"),dataAttr=activeStep.getAttribute("data-attr"),progressBar.setAttribute("data-attr",1*dataAttr+1)},goBack=function(e){e.preventDefault(),(activeStep=quiz.querySelector(".quiz-step.js-active")).classList.remove("js-active"),(prevEl=activeStep.previousElementSibling).classList.remove("js-completed"),prevEl.classList.add("js-active"),dataAttr=1*prevEl.getAttribute("data-attr")-1,progressBar.setAttribute("data-attr",dataAttr+1)},getNumber=function(e,t){return parseInt(e.getAttribute(t),10)},pauseEvent=function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1},debounce=function(e,t,n){var o=void 0,i=void 0,r=void 0,s=void 0,a=void 0;function l(){var c=now()-s;c<t&&c>0?o=setTimeout(l,t-c):(o=null,n||(a=e.apply(r,i),o||(r=i=null)))}return null==t&&(t=100),function(){r=this,i=arguments,s=now();var c=n&&!o;return o||(o=setTimeout(l,t)),c&&(a=e.apply(r,i),r=i=null),a}},setInitialPosition=function(e,t,n){var o=isNaN(n)?0:n,i=t-e;return Math.round(100*(o-e)/i)},handlePosition=function(e,t){var n=Math.min(Math.max(e/t,0),1);return Math.round(100*n+0)},handlePositionSteps=function(e,t,n,o,i){var r=Math.min(Math.max(e/t,0),1),s=o-n;return Math.round(r*s/i)*i/s*100},eventHandler=function(e,t,n,o,i){void 0===o&&(o=!0),t(n),e.isMoving=o,e.animationFrame=window.requestAnimationFrame(i),e.offset=n.pageX-e.dimensions.left},handleValue=function(e,t,n){var o=t-e;return Math.round(n*o/100+e)},setValueInDom=function(e,t){e.textContent=t},setAttributeInDom=function(e,t,n){return e.setAttribute(t,n)},createSlider=function(){var e=document.getElementsByClassName("js-ranger"),t=document.getElementsByClassName("js-ranger-input"),n=document.getElementsByClassName("js-ranger-track");if(!(e.length<=0||t.length<e.length||n.length<e.length)){var o=Array.prototype.slice.call(e),i=debounce(setValueInDom,10),r=debounce(setAttributeInDom,40);o.forEach(function(e,t,n){var o=e.querySelector(".js-ranger-input"),s=e.querySelector(".js-ranger-track"),a=e.querySelector(".js-ranger-distance"),l=e.querySelector(".js-ranger-value"),c=e.querySelector(".js-ranger-indicator"),u={isMoving:!1,min:getNumber(o,"data-min"),max:getNumber(o,"data-max"),value:getNumber(o,"value"),steps:getNumber(o,"data-step"),offset:0,curretValue:0,dimensions:s.getBoundingClientRect()};!function(){var t=setInitialPosition(u.min,u.max,u.value)+"%";if(a.style.width=t,null!==c&&(setValueInDom(l,u.value),c.style.left=t),!isNaN(u.steps)){var n=document.createElement("div"),o=(u.max-u.min)/u.steps,i=100/o,r=void 0;for(n.classList.add("Slider-steps"),e.appendChild(n),r=o-1;r>=1;r--){var d=document.createElement("span");d.classList.add("Slider-fraction"),d.style.left=i*r+"%",n.appendChild(d)}}window.addEventListener("resize",function(){u.dimensions=s.getBoundingClientRect()})}();var d=function t(n){(arguments.length<=1||void 0===arguments[1]||arguments[1])&&(u.animationFrame=window.requestAnimationFrame(t)),e.classList.toggle("is-moving",u.isMoving),a.style.width=u.currentPosition+"%",r(o,"value",u.currentValue),null!==c&&(i(l,u.currentValue),c.style.left=u.currentPosition+"%")},p=function(){e.classList.toggle("is-moving",u.isMoving),a.style.width=u.currentPosition+"%",r(o,"value",u.currentValue),null!==c&&(i(l,u.currentValue),c.style.left=u.currentPosition+"%")};e.addEventListener("mousedown",function(e){eventHandler(u,pauseEvent,e,!0,d),isNaN(u.steps)?u.currentPosition=handlePosition(u.offset,u.dimensions.width):u.currentPosition=handlePositionSteps(u.offset,u.dimensions.width,u.min,u.max,u.steps),u.currentValue=handleValue(u.min,u.max,u.currentPosition)}),window.addEventListener("mousemove",debounce(function(e){u.isMoving&&(eventHandler(u,pauseEvent,e,!0,d),isNaN(u.steps)?u.currentPosition=handlePosition(u.offset,u.dimensions.width):u.currentPosition=handlePositionSteps(u.offset,u.dimensions.width,u.min,u.max,u.steps),u.currentValue=handleValue(u.min,u.max,u.currentPosition))},10)),window.addEventListener("mouseup",function(e){u.isMoving&&(window.cancelAnimationFrame(u.animationFrame),u.isMoving=!1,d(null,!1)),u.currentValue&&updateSliderContent(u.currentValue)}),"ontouchstart"in window&&(e.addEventListener("touchstart",function(e){eventHandler(u,pauseEvent,e,!0,p),isNaN(u.steps)?u.currentPosition=handlePosition(u.offset,u.dimensions.width):u.currentPosition=handlePositionSteps(u.offset,u.dimensions.width,u.min,u.max,u.steps),u.currentValue=handleValue(u.min,u.max,u.currentPosition)}),e.addEventListener("touchmove",function(e){u.isMoving&&(eventHandler(u,pauseEvent,e,!0,p),isNaN(u.steps)?u.currentPosition=handlePosition(u.offset,u.dimensions.width):u.currentPosition=handlePositionSteps(u.offset,u.dimensions.width,u.min,u.max,u.steps),u.currentValue=handleValue(u.min,u.max,u.currentPosition))}),e.addEventListener("touchend",function(e){u.isMoving&&(window.cancelAnimationFrame(u.animationFrame),u.isMoving=!1,p()),u.currentValue&&updateSliderContent(u.currentValue)}))})}},width=quiz.clientWidth,steps=quiz.querySelectorAll(".quiz-step"),quizContainer=quiz.querySelector(".quiz-inner"),progressBar=document.querySelector(".quiz-progressbar"),activeStep=quiz.querySelector(".quiz-step.js-active"),dataAttr=activeStep.getAttribute("data-attr"),rangerInputs=quiz.querySelectorAll(".js-ranger-input"),nextEl=void 0,prevEl=void 0,btn=void 0,back=void 0;steps.forEach(function(e){e.style.width=width+"px",(btn=e.querySelector(".btn"))&&(btn.onclick=function(e){goNext(e)}),(back=e.querySelector(".back"))&&(back.onclick=function(e){goBack(e)});var t=e.querySelector(".boxes-holder"),n=e.querySelectorAll(".box");n.length>0&&n.forEach(function(n,o){n.onclick=function(){var o=t.querySelector(".js-active");o&&o.classList.remove("js-active"),n.classList.add("js-active");var i=e.querySelector(".quiz-btns .disabled");i&&i.classList.remove("disabled")}})}),createSlider(),window.onresize=function(){width=quiz.clientWidth,steps.forEach(function(e){e.style.width=width+"px"})};var now=function(){return(new Date).getTime()};if(window.innerWidth<501){var questions=quiz.querySelectorAll(".question");questions.length>0&&questions.forEach(function(e){e.onclick=function(){e.classList.toggle("js-visible")}})}}var sellerSections=document.querySelectorAll(".seller-section");sellerSections.length>0&&sellerSections.forEach(function(e){var t=e.querySelector(".header .tabs"),n=t.querySelectorAll(".tabs li:not(.bar)"),o=t.querySelector(".bar"),i=e.querySelectorAll(".content .tab");(o.style.width=n[0].clientWidth+"px",n.forEach(function(n){var r=n.querySelector("a");r.onclick=function(n){n.preventDefault();var s=r.parentNode;if(!s.classList.contains("js-active")){t.querySelector(".js-active").classList.remove("js-active"),s.classList.add("js-active"),o.style.left=s.offsetLeft+"px",o.style.width=s.clientWidth+"px";var a=r.getAttribute("href"),l=e.querySelector('.content .tab[data-attr="'+a+'"]');i.forEach(function(e,t){e.classList.contains("js-active")&&e.classList.remove("js-active"),t+1>a&&e.setAttribute("data-direction","right"),t+1<a&&e.setAttribute("data-direction","left")}),l.classList.add("js-active")}}}),window.innerWidth<769)&&(e.querySelector(".header h2").onclick=function(){e.classList.toggle("js-opened")})});